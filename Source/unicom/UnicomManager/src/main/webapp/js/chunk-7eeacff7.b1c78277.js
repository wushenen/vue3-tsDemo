(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7eeacff7"],{"5bb6":function(e,t,r){"use strict";var n=r("98ef"),o=r.n(n);o.a},"98ef":function(e,t,r){},d511:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"min-width":"700px"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户主密钥管理")]),r("el-breadcrumb-item",[e._v("对称主密钥加解密")])],1),r("el-card",[r("el-form",{attrs:{"label-width":"110px"}},[r("el-form-item",{attrs:{label:"类型",prop:"type"}},[r("el-radio-group",{on:{change:e.radioChange},model:{value:e.smkForm.type,callback:function(t){e.$set(e.smkForm,"type",t)},expression:"smkForm.type"}},[r("el-radio",{attrs:{label:1}},[e._v("加密")]),r("el-radio",{attrs:{label:2}},[e._v("解密")])],1)],1)],1),r("el-form",{ref:"smkFormRef",attrs:{model:e.smkForm,rules:e.smkFormRules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"密钥标识",prop:"keyId"}},[r("el-input",{model:{value:e.smkForm.keyId,callback:function(t){e.$set(e.smkForm,"keyId","string"===typeof t?t.trim():t)},expression:"smkForm.keyId"}})],1),1===e.isShow?r("div",[r("el-form-item",{attrs:{label:"待加密的明文",prop:"plaintextEn"}},[r("el-input",{attrs:{type:"textarea",rows:8},model:{value:e.smkForm.plaintextEn,callback:function(t){e.$set(e.smkForm,"plaintextEn","string"===typeof t?t.trim():t)},expression:"smkForm.plaintextEn"}})],1)],1):e._e(),2===e.isShow?r("div",[r("el-form-item",{attrs:{label:"待解密的密文",prop:"plaintextDe"}},[r("el-input",{attrs:{type:"textarea",rows:8},model:{value:e.smkForm.plaintextDe,callback:function(t){e.$set(e.smkForm,"plaintextDe","string"===typeof t?t.trim():t)},expression:"smkForm.plaintextDe"}})],1)],1):e._e(),r("el-form-item",{attrs:{label:"其他",prop:"encryptionContext"}},[r("el-input",{attrs:{type:"textarea",rows:8},model:{value:e.smkForm.encryptionContext,callback:function(t){e.$set(e.smkForm,"encryptionContext","string"===typeof t?t.trim():t)},expression:"smkForm.encryptionContext"}})],1),1===e.isShow?r("el-form-item",{attrs:{label:"加密结果",prop:"resultEn"}},[r("el-input",{attrs:{type:"textarea",readonly:!0,rows:8},model:{value:e.smkForm.resultEn,callback:function(t){e.$set(e.smkForm,"resultEn","string"===typeof t?t.trim():t)},expression:"smkForm.resultEn"}})],1):e._e(),2===e.isShow?r("el-form-item",{attrs:{label:"解密结果",prop:"resultDe"}},[r("el-input",{attrs:{type:"textarea",readonly:!0,rows:8},model:{value:e.smkForm.resultDe,callback:function(t){e.$set(e.smkForm,"resultDe","string"===typeof t?t.trim():t)},expression:"smkForm.resultDe"}})],1):e._e(),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitSmk}},[e._v("提交")]),r("el-button",{on:{click:function(t){return e.resetForm("smkFormRef")}}},[e._v("重置")])],1)],1)],1)],1)},o=[],s=(r("99af"),r("96cf"),r("1da1")),a={data:function(){return{isShow:1,smkForm:{keyId:"",type:1,plaintextEn:"",plaintextDe:"",encryptionContext:"",resultEn:"",resultDe:""},isIv:!1,smkFormRules:{keyId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],plaintextEn:[{required:!0,validator:this.Global.checkBase64,trigger:"blur"}],plaintextDe:[{required:!0,validator:this.Global.checkBase64,trigger:"blur"}]}}},beforeRouteEnter:function(e,t,r){var n=window.sessionStorage.getItem("accountTypeLogin");if("9"!==n)return r("/404");r()},methods:{radioChange:function(e){this.$refs.smkFormRef.clearValidate(),this.isShow=1===e?1:2},submitSmk:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.smkFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var n,o,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:if(1!==e.smkForm.type){t.next=10;break}return t.next=5,e.$http.post("v1/kms/Encrypt",{keyId:e.smkForm.keyId,plaintext:e.smkForm.plaintextEn,encryptionContext:"{".concat(e.smkForm.encryptionContext,":").concat(e.smkForm.encryptionContext,"}")});case 5:n=t.sent,o=n.data,0!==o.code?e.smkForm.resultEn="加密失败！":e.smkForm.resultEn="加密后的密文："+o.data.ciphertextBlob,t.next=15;break;case 10:return t.next=12,e.$http.post("v1/kms/Decrypt",{keyId:e.smkForm.keyId,ciphertextBlob:e.smkForm.plaintextDe,encryptionContext:"{".concat(e.smkForm.encryptionContext,":").concat(e.smkForm.encryptionContext,"}")});case 12:s=t.sent,a=s.data,0!==a.code?e.smkForm.resultDe="解密失败!":e.smkForm.resultDe="解密后的明文："+a.data.plaintext;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},resetForm:function(e){this.$refs[e].resetFields()}}},i=a,m=(r("5bb6"),r("2877")),l=Object(m["a"])(i,n,o,!1,null,"0b25b43b",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7eeacff7.b1c78277.js.map