{"version":3,"sources":["webpack:///./src/views/Encrypt.vue?606d","webpack:///./src/views/Encrypt.vue?644f","webpack:///src/views/Encrypt.vue","webpack:///./src/views/Encrypt.vue?bc27","webpack:///./src/views/Encrypt.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","path","_v","on","radioChange","model","value","smkForm","callback","$$v","$set","expression","ref","smkFormRules","trim","isShow","_e","submitSmk","$event","resetForm","staticRenderFns","component"],"mappings":"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","file":"js/chunk-7eeacff7.b1c78277.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Encrypt.vue?vue&type=style&index=0&id=0b25b43b&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Encrypt.vue?vue&type=style&index=0&id=0b25b43b&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"min-width\":\"700px\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户主密钥管理\")]),_c('el-breadcrumb-item',[_vm._v(\"对称主密钥加解密\")])],1),_c('el-card',[_c('el-form',{attrs:{\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-radio-group',{on:{\"change\":_vm.radioChange},model:{value:(_vm.smkForm.type),callback:function ($$v) {_vm.$set(_vm.smkForm, \"type\", $$v)},expression:\"smkForm.type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"加密\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"解密\")])],1)],1)],1),_c('el-form',{ref:\"smkFormRef\",attrs:{\"model\":_vm.smkForm,\"rules\":_vm.smkFormRules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"密钥标识\",\"prop\":\"keyId\"}},[_c('el-input',{model:{value:(_vm.smkForm.keyId),callback:function ($$v) {_vm.$set(_vm.smkForm, \"keyId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"smkForm.keyId\"}})],1),(_vm.isShow === 1)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"待加密的明文\",\"prop\":\"plaintextEn\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8},model:{value:(_vm.smkForm.plaintextEn),callback:function ($$v) {_vm.$set(_vm.smkForm, \"plaintextEn\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"smkForm.plaintextEn\"}})],1)],1):_vm._e(),(_vm.isShow === 2)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"待解密的密文\",\"prop\":\"plaintextDe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8},model:{value:(_vm.smkForm.plaintextDe),callback:function ($$v) {_vm.$set(_vm.smkForm, \"plaintextDe\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"smkForm.plaintextDe\"}})],1)],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"其他\",\"prop\":\"encryptionContext\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8},model:{value:(_vm.smkForm.encryptionContext),callback:function ($$v) {_vm.$set(_vm.smkForm, \"encryptionContext\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"smkForm.encryptionContext\"}})],1),(_vm.isShow === 1)?_c('el-form-item',{attrs:{\"label\":\"加密结果\",\"prop\":\"resultEn\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"readonly\":true,\"rows\":8},model:{value:(_vm.smkForm.resultEn),callback:function ($$v) {_vm.$set(_vm.smkForm, \"resultEn\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"smkForm.resultEn\"}})],1):_vm._e(),(_vm.isShow === 2)?_c('el-form-item',{attrs:{\"label\":\"解密结果\",\"prop\":\"resultDe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"readonly\":true,\"rows\":8},model:{value:(_vm.smkForm.resultDe),callback:function ($$v) {_vm.$set(_vm.smkForm, \"resultDe\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"smkForm.resultDe\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitSmk}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('smkFormRef')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"min-width: 700px\">\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户主密钥管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>对称主密钥加解密</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <el-form label-width=\"110px\">\r\n        <el-form-item label=\"类型\" prop=\"type\">\r\n          <el-radio-group v-model=\"smkForm.type\" @change=\"radioChange\">\r\n            <el-radio :label=\"1\">加密</el-radio>\r\n            <el-radio :label=\"2\">解密</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-form :model=\"smkForm\" :rules=\"smkFormRules\" ref=\"smkFormRef\" label-width=\"110px\">\r\n        <el-form-item label=\"密钥标识\" prop=\"keyId\">\r\n          <el-input v-model.trim=\"smkForm.keyId\"></el-input>\r\n        </el-form-item>\r\n        <!--加密明文-->\r\n        <div v-if=\"isShow === 1\">\r\n          <el-form-item label=\"待加密的明文\" prop=\"plaintextEn\">\r\n            <el-input type=\"textarea\" :rows=\"8\" v-model.trim=\"smkForm.plaintextEn\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <!--解密密文-->\r\n        <div v-if=\"isShow === 2\">\r\n          <el-form-item label=\"待解密的密文\" prop=\"plaintextDe\">\r\n            <el-input type=\"textarea\" :rows=\"8\" v-model.trim=\"smkForm.plaintextDe\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <el-form-item label=\"其他\" prop=\"encryptionContext\">\r\n          <el-input type=\"textarea\" :rows=\"8\" v-model.trim=\"smkForm.encryptionContext\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"加密结果\" v-if=\"isShow === 1\" prop=\"resultEn\">\r\n          <el-input type=\"textarea\" :readonly=\"true\" :rows=\"8\" v-model.trim=\"smkForm.resultEn\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"解密结果\" v-if=\"isShow === 2\" prop=\"resultDe\">\r\n          <el-input type=\"textarea\" :readonly=\"true\" :rows=\"8\" v-model.trim=\"smkForm.resultDe\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitSmk\">提交</el-button>\r\n          <el-button @click=\"resetForm('smkFormRef')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        isShow: 1,\r\n        smkForm: {\r\n          keyId: '',\r\n          type: 1,\r\n          plaintextEn: '',\r\n          plaintextDe: '',\r\n          encryptionContext: '',\r\n          resultEn: '',\r\n          resultDe: ''\r\n        },\r\n        isIv: false,\r\n        smkFormRules: {\r\n          keyId: [{required: true, message: '必填项不能为空', trigger: 'blur'}],\r\n          plaintextEn: [{required: true, validator: this.Global.checkBase64, trigger: 'blur'}],\r\n          plaintextDe: [{required: true, validator: this.Global.checkBase64, trigger: 'blur'}],\r\n        },\r\n      }\r\n    },\r\n    beforeRouteEnter: (to, form, next) => {\r\n      const loginType = window.sessionStorage.getItem('accountTypeLogin');\r\n      if (loginType === '9') {\r\n        next()\r\n      }else{\r\n        return next('/404')\r\n      }\r\n    },\r\n    methods: {\r\n      radioChange(val) {\r\n        this.$refs.smkFormRef.clearValidate();\r\n        this.isShow = (val === 1) ? 1 : 2;\r\n      },\r\n      async submitSmk() {\r\n        this.$refs.smkFormRef.validate(async valid => {\r\n          if (!valid) return;\r\n          if (this.smkForm.type === 1) {//加密\r\n            const {data: res} = await this.$http.post('v1/kms/Encrypt',\r\n              {\r\n                'keyId': this.smkForm.keyId,\r\n                'plaintext': this.smkForm.plaintextEn,\r\n                'encryptionContext': `{${this.smkForm.encryptionContext}:${this.smkForm.encryptionContext}}`\r\n              }\r\n            );\r\n            if (res.code !== 0) {\r\n              this.smkForm.resultEn = '加密失败！';\r\n            } else {\r\n              this.smkForm.resultEn = \"加密后的密文：\" + res.data.ciphertextBlob;\r\n            }\r\n          } else {//解密\r\n            const {data: res} = await this.$http.post('v1/kms/Decrypt',\r\n              {\r\n                'keyId': this.smkForm.keyId,\r\n                'ciphertextBlob': this.smkForm.plaintextDe,\r\n                'encryptionContext': `{${this.smkForm.encryptionContext}:${this.smkForm.encryptionContext}}`\r\n              }\r\n            );\r\n            if (res.code !== 0) {\r\n              this.smkForm.resultDe = '解密失败!';\r\n            } else {\r\n              this.smkForm.resultDe = \"解密后的明文：\" + res.data.plaintext;\r\n            }\r\n          }\r\n        })\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"less\">\r\n  .el-form {\r\n    width: 600px;\r\n  }\r\n\r\n  .btn_div {\r\n    padding: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Encrypt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Encrypt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Encrypt.vue?vue&type=template&id=0b25b43b&scoped=true&\"\nimport script from \"./Encrypt.vue?vue&type=script&lang=js&\"\nexport * from \"./Encrypt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Encrypt.vue?vue&type=style&index=0&id=0b25b43b&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b25b43b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}