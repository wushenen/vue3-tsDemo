(function(e){function n(n){for(var r,o,u=n[0],i=n[1],s=n[2],l=0,d=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(n);while(d.length)d.shift()();return c.push.apply(c,s||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,o=1;o<t.length;o++){var u=t[o];0!==a[u]&&(r=!1)}r&&(c.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},a={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-015a995e":"ac38d320","chunk-0494f54f":"f37f831b","chunk-1380cf54":"82a5b850","chunk-14f70016":"c4b592a6","chunk-1f72a288":"80bcd3d3","chunk-205a5f3d":"18448d69","chunk-29038849":"af7d4230","chunk-345fc553":"c04dc27d","chunk-41ba70b9":"67a51693","chunk-4a467447":"f17ba506","chunk-502fc9e2":"87b526c8","chunk-5c46228d":"ff114d86","chunk-2a0a5942":"4bef906c","chunk-6da6ec8a":"522f5ad5","chunk-6693fdeb":"ae689b48","chunk-6bce2efb":"81b8a3ae","chunk-73c9ca24":"e718c98e","chunk-78e9bd02":"363a1a15","chunk-7bbe3c5e":"d7039389","chunk-7f97a03b":"b92f2c46","chunk-b8e229b4":"01210fa3","chunk-c9205274":"461bf49b","chunk-cd6ba2e2":"7a033273","chunk-dae5df40":"48e7d4c5","chunk-f4f221ac":"325b8da4"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-015a995e":1,"chunk-0494f54f":1,"chunk-205a5f3d":1,"chunk-29038849":1,"chunk-345fc553":1,"chunk-41ba70b9":1,"chunk-4a467447":1,"chunk-502fc9e2":1,"chunk-2a0a5942":1,"chunk-6da6ec8a":1,"chunk-6693fdeb":1,"chunk-6bce2efb":1,"chunk-73c9ca24":1,"chunk-78e9bd02":1,"chunk-7bbe3c5e":1,"chunk-c9205274":1,"chunk-cd6ba2e2":1,"chunk-dae5df40":1,"chunk-f4f221ac":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-015a995e":"15ab8420","chunk-0494f54f":"c59edc8f","chunk-1380cf54":"31d6cfe0","chunk-14f70016":"31d6cfe0","chunk-1f72a288":"31d6cfe0","chunk-205a5f3d":"590ed50e","chunk-29038849":"616cd72d","chunk-345fc553":"31904986","chunk-41ba70b9":"39963e20","chunk-4a467447":"c308ed62","chunk-502fc9e2":"b0432ae7","chunk-5c46228d":"31d6cfe0","chunk-2a0a5942":"2d1b6765","chunk-6da6ec8a":"12054791","chunk-6693fdeb":"80fd8ff7","chunk-6bce2efb":"c17a2555","chunk-73c9ca24":"842c5006","chunk-78e9bd02":"19f8f2ed","chunk-7bbe3c5e":"590ed50e","chunk-7f97a03b":"31d6cfe0","chunk-b8e229b4":"31d6cfe0","chunk-c9205274":"2f4a31c8","chunk-cd6ba2e2":"0c1e3cac","chunk-dae5df40":"37a8c646","chunk-f4f221ac":"06d6bcf6"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===a))return n()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===a)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var r=n&&n.target&&n.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],f.parentNode.removeChild(f),t(c)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)n.push(r[2]);else{var c=new Promise((function(n,t){r=a[e]=[n,t]}));n.push(r[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var d=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(f);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,t[1](d)}a[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var f=l;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"3dde":function(e,n,t){"use strict";var r=t("7ae7"),o=t.n(r);o.a},"56d7":function(e,n,t){"use strict";t.r(n);t("d3b7"),t("ac1f"),t("5319"),t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],c={name:"app"},u=c,i=t("2877"),s=Object(i["a"])(u,o,a,!1,null,null,null),l=s.exports,d=t("8c4f"),f=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login_container"},[t("div",{staticClass:"headerDiv"}),t("div",{staticClass:"bg"},[t("div",{staticClass:"wrap"},[t("div",{staticClass:"content"},[t("div",{staticClass:"contentLeft"},[t("p",[t("span",[e._v("欢迎使用")]),e._v(e._s(e.Global.projectName))]),t("p",[e._v("用户管理、权限管理、日志审计等多模块设置")]),t("p",[e._v("全新的权限系统")]),t("p",[e._v("严格的审核机制")]),t("p",[e._v("全方位保障您的信息安全")])]),t("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules}},[t("el-form-item",[t("span",{staticClass:"title"},[e._v("登录")])]),t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.userName,callback:function(n){e.$set(e.loginForm,"userName","string"===typeof n?n.trim():n)},expression:"loginForm.userName"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.login(n)}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password","string"===typeof n?n.trim():n)},expression:"loginForm.password"}})],1),t("el-form-item",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)])])])},h=[],p=(t("96cf"),t("1da1")),b={name:"Login",data:function(){return{loginForm:{userName:"",password:""},loginFormRules:{}}},methods:{login:function(){var e=this;if(""===this.loginForm.userName||""===this.loginForm.password)return this.$message.error("请输入用户名和密码！");this.$refs.loginFormRef.validate(function(){var n=Object(p["a"])(regeneratorRuntime.mark((function n(t){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return window.sessionStorage.clear(),n.next=5,e.$http.post("login/sysLogin",{password:e.loginForm.password,userName:e.loginForm.userName});case 5:if(r=n.sent,o=r.data,0===o.code){n.next=9;break}return n.abrupt("return",e.$message.error(null!==o.msg&&""!==o.msg?o.msg:"登录失败！"));case 9:window.sessionStorage.setItem("token",o.data.token),window.sessionStorage.setItem("loginName",e.loginForm.userName),window.sessionStorage.setItem("accountTypeLogin",o.data.accountType),window.sessionStorage.setItem("userId",o.data.userId),e.$router.push("/home");case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}},m=b,k=(t("3dde"),Object(i["a"])(m,f,h,!1,null,"90fb612c",null)),g=k.exports,v=(t("a78e"),function(){return t.e("chunk-6693fdeb").then(t.bind(null,"bb51"))}),w=function(){return t.e("chunk-29038849").then(t.bind(null,"eec5"))},y=function(){return t.e("chunk-c9205274").then(t.bind(null,"1511"))},E=function(){return t.e("chunk-4a467447").then(t.bind(null,"bae2"))},_=function(){return t.e("chunk-1f72a288").then(t.bind(null,"f836"))},$=function(){return t.e("chunk-14f70016").then(t.bind(null,"aa5c"))},S=function(){return t.e("chunk-73c9ca24").then(t.bind(null,"a908"))},C=function(){return t.e("chunk-6bce2efb").then(t.bind(null,"1692"))},j=function(){return t.e("chunk-015a995e").then(t.bind(null,"9989"))},F=function(){return t.e("chunk-cd6ba2e2").then(t.bind(null,"c4eb"))},N=function(){return Promise.all([t.e("chunk-5c46228d"),t.e("chunk-2a0a5942")]).then(t.bind(null,"c3da"))},O=function(){return t.e("chunk-205a5f3d").then(t.bind(null,"1000"))},P=function(){return t.e("chunk-41ba70b9").then(t.bind(null,"93b9"))},A=function(){return t.e("chunk-345fc553").then(t.bind(null,"18ae"))},L=function(){return t.e("chunk-7f97a03b").then(t.bind(null,"4ebe"))},x=function(){return t.e("chunk-dae5df40").then(t.bind(null,"5e96"))},I=function(){return t.e("chunk-78e9bd02").then(t.bind(null,"e2de"))},R=function(){return Promise.all([t.e("chunk-5c46228d"),t.e("chunk-6da6ec8a")]).then(t.bind(null,"4182"))},T=function(){return t.e("chunk-1380cf54").then(t.bind(null,"475a"))},U=function(){return t.e("chunk-f4f221ac").then(t.bind(null,"a664"))},z=function(){return t.e("chunk-7bbe3c5e").then(t.bind(null,"d506"))},Z=function(){return t.e("chunk-0494f54f").then(t.bind(null,"e485"))},B=function(){return t.e("chunk-502fc9e2").then(t.bind(null,"4339"))},M=function(){return t.e("chunk-b8e229b4").then(t.bind(null,"6da2"))};r["default"].use(d["a"]);var D=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:g},{path:"*",name:"NoFound",component:Z},{path:"/home",component:v,redirect:"/welcome",children:[{path:"/welcome",component:w},{path:"/user",component:y},{path:"/deviceUser",component:E},{path:"/applicationUser",component:S},{path:"/log",component:_},{path:"/manager",component:C},{path:"/status",component:j},{path:"/access",component:$},{path:"/keySource",component:F},{path:"/keyInfo",component:N},{path:"/deviceAuth",component:O},{path:"/resources",component:P},{path:"/resourceDetail",component:A},{path:"/total",component:R},{path:"/alert",component:T},{path:"/group",component:L},{path:"/groupDetail",component:x},{path:"/pwsp",component:I},{path:"/qems",component:U},{path:"/groupAuth",component:z},{path:"/applicationManagerUser",component:B},{path:"/appList",component:M}]}],q=new d["a"]({routes:D});q.beforeEach((function(e,n,t){if("/login"===e.path)return t();var r=window.sessionStorage.getItem("token");if(!r)return window.sessionStorage.clear(),t("/login");t()}));var G=q,H=t("bc3a"),J=t.n(H),K=(t("1157"),t("5c96")),Q=t.n(K),V=(t("0fae"),t("82da"),t("aede"),t("323e")),W=t.n(V),X=(t("a5d8"),t("4160"),null),Y=function(e){X&&X.close(),X=Object(K["Message"])(e)};["error","success","info","warning"].forEach((function(e){Y[e]=function(n){return"string"===typeof n&&(n={message:n}),n.type=e,Y(n)}}));var ee=Y,ne=(t("3ca3"),t("ddb0"),t("2b3d"),"量子密钥云平台"),te=function(e,n,t){var r=/^(?![0-9_]+$)(?![a-zA-Z]+$)[0-9A-Za-z_!@#$%&*]{8,16}$/;if(r.test(n))return t();t(new Error("请输入数字和字母或特殊字符（_!@#$%&*）组成的字符，长度为8-16位"))},re=function(e,n,t){var r=/^[a-zA-Z0-9_]{4,16}$/;if(r.test(n))return t();t(new Error("请输入数字、字母、下划线组成的字符，长度为4-16位"))},oe=function(e,n,t){var r=/^[0-9]{8}$/;if(r.test(n))return t();t(new Error("请输入数字,长度为8位"))},ae=function(e,n,t){var r=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(r.test(n))return t();t(new Error("请输入正确的邮箱！"))},ce=function(e,n,t){var r=/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;if(r.test(n))return t();t(new Error("请输入正确的手机号！"))},ue=function(e,n,t){var r=/[1-9]\d{5}(?!\d)/;if(r.test(n))return t();t(new Error("请输入正确的6位数邮编！"))},ie=function(e,n,t){var r=/^http[s]{0,1}:\/\/([\w.]+\/?)\S*/;if(r.test(n))return t();t(new Error("请输入以‘http://或https://’开头的字符"))},se=function(e,n,t){var r=/^[1-9]\d*$/;if(r.test(n))return t();t(new Error("请输入正整数"))},le=function(e,n,t){var r=/^[a-zA-Z0-9*]{1,256}$/;if(r.test(n))return t();t(new Error("只能输入数字、字母或*"))},de=function(e,n,t){var r=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;if(r.test(n))return t();t(new Error("请输入正确的IP！"))},fe=function(e,n,t){var r=/^([0-9]|[1-9]\d|[1-9]\d{2}|[1-9]\d{3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/;if(r.test(n))return t();t(new Error("请输入正确的端口号！"))},he=function(e,n,t){var r=/^[a-zA-Z0-9]{16}$/;if(r.test(n))return t();t(new Error("请输入数字、字母组成的字符，长度为16位"))},pe=function(e,n,t){var r=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;if(r.test(n))return t();t(new Error("请输入base64格式的字符串"))},be=function(e,n){if(e)if(window.navigator.msSaveBlob)try{window.navigator.msSaveBlob(e,n)}catch(o){console.log(o)}else{var t=window.URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.style.display="none",r.href=t,r.setAttribute("download",n),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}},me={projectName:ne,valiIp:de,valiPort:fe,valiPass:te,valiUser:re,valiPing:oe,valiEmail:ae,valiPhone:ce,valiPostcode:ue,startHttps:ie,valiNumber:se,valiResourceCode:le,valiSerialNo:he,checkBase64:pe,downloadFile:be},ke={install:function(e){e.directive("preventReClick",{inserted:function(e,n){e.addEventListener("click",(function(){e.disabled||(e.disabled=!0,setTimeout((function(){e.disabled=!1}),n.value||1e3))}))}})}};r["default"].config.productionTip=!1,r["default"].prototype.Global=me,J.a.defaults.baseURL="./",r["default"].use(Q.a),r["default"].use(ke),r["default"].prototype.$message=ee,J.a.interceptors.request.use((function(e){return W.a.start(),e.headers.Token=window.sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),J.a.interceptors.response.use((function(e){if(W.a.done(),null!=e.headers.token&&window.sessionStorage.setItem("token",e.headers.token),401===e.data.code)ee({type:"error",message:"身份过期,请重新登录！",duration:2e3,onClose:function(){window.sessionStorage.clear(),G.replace({path:"/login"}),window.location.reload()}});else{if(403!==e.data.code)return e;ee.error("该用户没有权限！")}}),(function(e){if(e&&e.response)switch(e.response.status){case 400:ee.error("找不到这个请求，请检查！");break;case 401:ee({type:"error",message:"身份过期,请重新登录！",duration:2e3,onClose:function(){window.sessionStorage.clear(),G.replace({path:"/login"}),window.location.reload()}});break;case 500:ee({type:"error",message:"账号被占用或者连接中断，请重新登录！",duration:2e3,onClose:function(){window.sessionStorage.clear(),G.replace({path:"/login"}),window.location.reload()}});break;default:console.log(e)}})),r["default"].prototype.$http=J.a,new r["default"]({router:G,render:function(e){return e(l)}}).$mount("#app")},"7ae7":function(e,n,t){},"82da":function(e,n,t){},aede:function(e,n,t){}});
//# sourceMappingURL=app.18b87331.js.map