(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05a7a9b4"],{"1cd7":function(e,t,a){e.exports=a.p+"img/8.3bacd4b6.png"},2272:function(e,t,a){"use strict";var i=a("6cb6"),n=a.n(i);n.a},"29a1":function(e,t,a){e.exports=a.p+"img/9.04a31ab0.png"},4182:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"totalContent"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e.$route.query.urlType?i("el-breadcrumb-item",{attrs:{to:{path:"/applicationManagerUser"}}},[e._v("应用管理")]):e._e(),i("el-breadcrumb-item",[e._v("量子密钥统计")])],1),i("el-card",{staticStyle:{height:"calc(100% - 28px)"}},[i("div",{staticClass:"total-header"},[i("div",{staticClass:"header-wrap"},[i("img",{attrs:{src:a("b84a"),alt:""}}),i("ul",[i("li",[e._v(e._s(e.deviceNum))]),i("li",[e._v("设备总量")])])]),i("div",{staticClass:"header-wrap"},[i("img",{attrs:{src:a("29a1"),alt:""}}),i("ul",[i("li",[e._v(e._s(e.onlineNum))]),i("li",[e._v("在线数量")])])]),i("div",{staticClass:"header-wrap"},[i("img",{attrs:{src:a("1cd7"),alt:""}}),i("ul",[i("li",[e._v(e._s(e.offlineNum))]),i("li",[e._v("离线数量")])])])]),i("div",{staticClass:"total-center"},[i("div",{staticClass:"pie"}),i("div",{staticClass:"barRight1"})])])],1)},n=[],r=(a("99af"),a("b680"),a("96cf"),a("1da1")),o=a("313e"),s={data:function(){return{timer:null,deviceNum:"",onlineNum:"",offlineNum:"",onlineKeyNum:"",total:0,userList:[],queryInfo:{pagenum:1,pagesize:4}}},beforeRouteEnter:function(e,t,a){var i=window.sessionStorage.getItem("accountTypeLogin");if("9"!==i&&"1"!==i)return a("/404");a()},created:function(){this.getTotalInfo()},methods:{getTotalInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",a=e.$route.query.urlType?"status/getCurrentAppStatusInfo?appId=".concat(e.$route.query.id):"status/getDeviceStatusInfo",t.next=4,e.$http.get("".concat(a));case 4:if(i=t.sent,n=i.data,0===n.code){t.next=8;break}return t.abrupt("return",e.$message.error("获取数据信息失败！"));case 8:e.deviceNum=n.data.deviceStatusInfo.deviceNum,e.onlineNum=n.data.deviceStatusInfo.onlineNum,e.offlineNum=n.data.deviceStatusInfo.offlineNum,e.onlineKeyNum=n.data.deviceStatusInfo.onlineKeyNum,e.userList=n.data.logs,e.barRight1(n.data),e.chartNum(n.data);case 15:case"end":return t.stop()}}),t)})))()},jishi:function(){var e=this;this.timer=setInterval((function(){e.getTotalInfo()}),5e3)},barRight1:function(e){var t=o["a"](document.querySelector(".barRight1"));null==t&&(t=o["b"](document.querySelector(".barRight1"))),t.setOption({title:[{text:"加解密数据统计",left:"50%",top:"85%",textAlign:"center"}],color:["#2f89cf"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"0%",top:"10px",right:"0%",bottom:"22%",containLabel:!0},xAxis:{type:"category",data:["加密数量","解密数量","加解密数据总量"],axisTick:{alignWithLabel:!0},axisLabel:{color:"#909399",fontSize:"12"},axisLine:{show:!0}},yAxis:{type:"value",axisLabel:{color:"#909399",fontSize:12,formatter:function(e,t){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}},axisLine:{show:!0,lineStyle:{color:"#909399",width:1}},splitLine:{lineStyle:{color:"rgba(255,255,255,.1)"}}},series:[{name:"合计",type:"bar",barWidth:"25%",data:[e.deviceStatusInfo.encDataNum,e.deviceStatusInfo.decDataNum,e.deviceStatusInfo.encDataNum+e.deviceStatusInfo.decDataNum],itemStyle:{borderRadius:5}}]}),window.addEventListener("resize",(function(){t.resize()}))},chartNum:function(e){var t=o["a"](document.querySelector(".pie"));null==t&&(t=o["b"](document.querySelector(".pie")));var a=e.deviceStatusInfo.keyDistributionNum,i=e.deviceStatusInfo.onlineKeyNum;t.setOption({title:{text:"密钥总量:".concat(a,"     密钥使用量:").concat(i),left:"45%",top:"85%",textAlign:"center",textStyle:{overflow:"break",width:290}},series:[{type:"gauge",radius:"50%",startAngle:90,endAngle:-270,center:["50%","50%"],itemStyle:{color:"#409EFF"},pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#409EFF"}},axisLine:{lineStyle:{width:15}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[{value:(i/a*100).toFixed(2)}],detail:{valueAnimation:!0,fontSize:18,color:"auto",formatter:"{value}%",offsetCenter:["0%","0%"]}}]}),window.addEventListener("resize",(function(){t.resize()}))}},beforeDestroy:function(){clearInterval(this.timer)}},c=s,u=(a("2272"),a("2877")),l=Object(u["a"])(c,i,n,!1,null,"345ee9df",null);t["default"]=l.exports},"6cb6":function(e,t,a){}}]);
//# sourceMappingURL=chunk-05a7a9b4.05b46236.js.map