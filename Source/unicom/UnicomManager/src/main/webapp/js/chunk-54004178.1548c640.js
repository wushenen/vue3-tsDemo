(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54004178"],{"43fe":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"headerDiv"},[e._m(0),t("el-button",{staticStyle:{float:"right"},attrs:{type:"info",size:"small"},on:{click:e.loginMethod}},[e._v("登录")])],1),t("el-form",{ref:"resetFormRef",staticClass:"password_form",attrs:{model:e.resetForm,rules:e.resetFormRules,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"旧密码：",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.resetForm.password,callback:function(r){e.$set(e.resetForm,"password","string"===typeof r?r.trim():r)},expression:"resetForm.password"}})],1),t("el-form-item",{attrs:{label:"新密码：",prop:"newpwd"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.resetForm.newpwd,callback:function(r){e.$set(e.resetForm,"newpwd","string"===typeof r?r.trim():r)},expression:"resetForm.newpwd"}})],1),t("el-form-item",{attrs:{label:"确认密码：",prop:"newpassword1"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.resetForm.newpassword1,callback:function(r){e.$set(e.resetForm,"newpassword1","string"===typeof r?r.trim():r)},expression:"resetForm.newpassword1"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.passwordEnsure}},[e._v("提交")])],1)],1)],1)},o=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",[t("i",{staticClass:"el-icon-edit"}),e._v("修改密码")])}],a=(t("96cf"),t("1da1")),n={data:function(){var e=this,r=function(e,r,t){var s=/^(?![0-9_]+$)(?![a-zA-Z]+$)[0-9A-Za-z_]{8,16}$/;if(s.test(r))return t();t(new Error("请输入8-16位数字、字母组合的密码！"))},t=function(r,t,s){""===t?s(new Error("请再次输入密码！")):t!==e.resetForm.newpwd?s(new Error("两次输入密码不一致!")):s()};return{loginName:"",resetForm:{newpassword1:"",password:""},resetFormRules:{password:[{required:!0,message:"请输入旧密码！",trigger:"blur"}],newpwd:[{required:!0,validator:r,trigger:"blur"}],newpassword1:[{required:!0,validator:t,trigger:"blur"}]}}},created:function(){this.loginName=this.$cookies.get("loginName")},methods:{passwordEnsure:function(){var e=this;this.$refs.resetFormRef.validate(function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(t){var s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.$http.post("user/updatePasswd?oldPass=".concat(e.resetForm.password),{loginName:e.loginName,loginPass:e.resetForm.newpassword1});case 4:if(s=r.sent,o=s.data,0===o.code){r.next=8;break}return r.abrupt("return",e.$message.error(o.msg));case 8:e.$message.success("修改成功,请重新登录！"),setTimeout((function(){window.sessionStorage.clear(),e.$cookies.remove("loginName"),e.$router.push("/login")}),3e3);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},loginMethod:function(){window.sessionStorage.clear(),this.$cookies.remove("loginName"),this.$router.push("/login")}}},i=n,l=(t("f7dd"),t("2877")),u=Object(l["a"])(i,s,o,!1,null,"11a2fd84",null);r["default"]=u.exports},"5f70":function(e,r,t){},f7dd:function(e,r,t){"use strict";var s=t("5f70"),o=t.n(s);o.a}}]);
//# sourceMappingURL=chunk-54004178.1548c640.js.map